import{d as k,r as m,m as g,o as x,u as w,x as V,c as i,b as e,e as C,p as P,i as u,q as h,v as M,n as f,t as v,y as S,g as E,w as L,h as q,f as I,k as r,_ as N}from"./index-BIsFjUzH.js";const B={class:"admin-login"},D={class:"login-container"},T={class:"login-card"},A={class:"form-group"},R={key:0,class:"error-message"},U={class:"form-group"},$={class:"password-input"},j=["type"],z={key:0},F={key:1},O={key:0,class:"error-message"},W=["disabled"],G={key:0,class:"loading-spinner"},H={key:1},J={key:2},K={key:0,class:"error-alert"},Q={class:"error-content"},X={class:"login-footer"},Y=k({__name:"Login",setup(Z){const _=V(),n=m(!1),l=m(""),d=m(!1),t=g({email:"",password:""}),o=g({email:"",password:""}),y=()=>{Object.keys(o).forEach(p=>{o[p]=""});let a=!0;const s=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return t.email.trim()?s.test(t.email)||(o.email="Por favor ingresa un email v√°lido",a=!1):(o.email="El email es requerido",a=!1),t.password?t.password.length<6&&(o.password="La contrase√±a debe tener al menos 6 caracteres",a=!1):(o.password="La contrase√±a es requerida",a=!1),a},b=async()=>{if(y()){n.value=!0,l.value="";try{const{error:a}=await w.auth.signInWithPassword({email:t.email.trim(),password:t.password});if(a)throw a;_.push("/admin/dashboard")}catch(a){console.error("Login error:",a),a.message.includes("Invalid login credentials")?l.value="Credenciales incorrectas. Por favor verifica tu email y contrase√±a.":a.message.includes("Email not confirmed")?l.value="Por favor confirma tu email antes de iniciar sesi√≥n.":l.value="Error al iniciar sesi√≥n. Por favor intenta de nuevo."}finally{n.value=!1}}};return x(async()=>{const{data:{session:a}}=await w.auth.getSession();a&&_.push("/admin/dashboard")}),(a,s)=>{const p=q("router-link");return r(),i("div",B,[e("div",D,[e("div",T,[s[8]||(s[8]=C('<div class="login-header" data-v-017fce1e><div class="admin-logo" data-v-017fce1e><span class="logo-text" data-v-017fce1e>MS</span></div><h1 class="login-title" data-v-017fce1e>Panel de Administraci√≥n</h1><p class="login-subtitle" data-v-017fce1e>Marco Santana Portfolio</p></div>',1)),e("form",{onSubmit:P(b,["prevent"]),class:"login-form"},[e("div",A,[s[3]||(s[3]=e("label",{for:"email",class:"form-label"},"Email",-1)),h(e("input",{id:"email","onUpdate:modelValue":s[0]||(s[0]=c=>t.email=c),type:"email",class:f(["form-input",{error:o.email}]),placeholder:"admin@marcosantana.dev",required:""},null,2),[[M,t.email]]),o.email?(r(),i("span",R,v(o.email),1)):u("",!0)]),e("div",U,[s[4]||(s[4]=e("label",{for:"password",class:"form-label"},"Contrase√±a",-1)),e("div",$,[h(e("input",{id:"password","onUpdate:modelValue":s[1]||(s[1]=c=>t.password=c),type:d.value?"text":"password",class:f(["form-input",{error:o.password}]),placeholder:"Tu contrase√±a",required:""},null,10,j),[[S,t.password]]),e("button",{type:"button",class:"password-toggle",onClick:s[2]||(s[2]=c=>d.value=!d.value)},[d.value?(r(),i("span",z,"üëÅÔ∏è")):(r(),i("span",F,"üôà"))])]),o.password?(r(),i("span",O,v(o.password),1)):u("",!0)]),e("button",{type:"submit",class:f(["login-btn",{loading:n.value}]),disabled:n.value},[n.value?(r(),i("span",G)):u("",!0),n.value?(r(),i("span",H,"Iniciando sesi√≥n...")):(r(),i("span",J,"Iniciar Sesi√≥n"))],10,W),l.value?(r(),i("div",K,[s[5]||(s[5]=e("div",{class:"error-icon"},"‚ùå",-1)),e("div",Q,[e("p",null,v(l.value),1)])])):u("",!0)],32),e("div",X,[s[7]||(s[7]=e("p",{class:"footer-text"}," Acceso restringido √∫nicamente para el administrador del portfolio. ",-1)),E(p,{to:"/",class:"back-link"},{default:L(()=>s[6]||(s[6]=[I(" ‚Üê Volver al sitio principal ")])),_:1,__:[6]})])])])])}}}),es=N(Y,[["__scopeId","data-v-017fce1e"]]);export{es as default};
